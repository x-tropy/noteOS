.border-light {
    @apply border-opacity-25 border-black;
}

#tiptap-editor .ProseMirror, .article {
    @apply font-serif focus:outline-none mx-auto mb-20 px-3 md:w-[750px];

    strong, h1, h2, h3 {
        @apply font-semibold;
    }

    h1, h2, h3 {
        @apply font-sans;

        code {
            @apply break-words;
        }
    }

    h1 {
        @apply text-4xl mt-10 mb-[52px];
    }

    h2 {
        @apply text-2xl mb-5 mt-12;
    }

    h3 {
        @apply text-xl leading-9 mt-5;
    }

    h1 code, h2 code, h3 code {
        @apply tracking-tight px-1 text-[0.9em];
        word-spacing: -4px;
    }

    p {
        @apply font-serif font-normal text-xl tracking-tight leading-8 my-4;
        word-spacing: 1px;

        code {
            @apply text-base tracking-tight text-fuchsia-600 font-medium rounded-md px-[2px];
            word-spacing: -4px;
        }

        strong {
            @apply font-semibold;
        }
    }

    h2 + p, h3 + p {
        @apply mt-0;
    }

    blockquote {
        p {
            @apply text-2xl leading-loose text-center text-gray-500 m-14 relative;

            &::before {
                @apply text-gray-300 absolute -ml-14 -mt-10 text-9xl;
                content: "“";
            }
        }
    }

    .code-block-wrap {
        @apply my-4 rounded-md border border-light bg-white relative overflow-clip;
    }

    pre {
        @apply text-sm  pl-2 pb-2 pt-9;

        code {
            @apply overflow-x-auto !p-0 thin-scrollbar;
        }

    }

    .code-language-label {
        @apply font-mono text-sm flex absolute top-2 left-2 px-1 bg-black text-white rounded;

        &::before {
            content: '';
            background: url("../images/w-code.svg");
            @apply inline-block w-[18px] h-[18px] relative mr-[2px] top-[1px];
        }
    }

    .copy-code-button {
        @apply bg-black text-white flex absolute top-2 right-2 rounded font-sans text-sm px-2 py-1;

        &::before {
            content: '';
            background: url("../images/w-copy.svg");
            @apply inline-block w-[18px] h-[18px] relative mr-1 top-[1px];
        }

        &.copy-success {
            &::before {
                background: url("../images/w-check.svg");
            }
        }
    }

    ul, ol {
        @apply list-outside;
    }

    & > ul, & > ol {
        @apply ml-6;
    }

    ol ol, ol ul, ul ol, ul ul {
        @apply pl-6;
    }

    ol {
        @apply list-decimal;
    }

    ul {
        @apply list-disc;
    }

    li {
        @apply leading-none text-xl;

        p {
            @apply my-0;
        }
    }

    ul li {
        @apply marker:text-lg;
    }

    p:has(+ol), p:has(+ul) {
        @apply mb-0;
    }

    hr {
        @apply h-[24px] my-12 border-none;

        &::after {
            @apply h-[24px] align-middle font-mono block text-center tracking-wider text-2xl;
            content: '· · ·';
        }
    }

    em {
        @apply tracking-normal;
    }

    a {
        @apply underline underline-offset-[5px] break-words;

        &::after {
            @apply inline-block w-[18px] h-[18px] relative bottom-[2px] ml-[2px];
        }

        &.external::after {
            content: '';
            background: url('../images/external-link.svg');
        }

        &.internal::after {
            content: '';
            background: url('../images/file-text.svg');
        }
    }

    s {
        text-decoration-color: rgba(0, 0, 0, 0.7);
    }

    .image {
        @apply mx-auto my-4;
    }

    figure {
        img {
            @apply mx-auto mt-4 mb-2;
        }

        figcaption {
            @apply text-center tracking-wide text-gray-500 focus:outline-none mb-4 h-6 relative;

            &.empty::after {
                content: "Enter caption here...";
                @apply opacity-65 absolute top-0 -translate-x-1/2 pointer-events-none;
            }
        }

        &.img-20 {
            img {
                @apply w-[20%];
            }
        }

        &.img-50 {
            img {
                @apply w-[50%];
            }
        }

        &.img-100 {
            img {
                @apply w-full;
            }
        }

        &.img-original {
            img {
                @apply w-auto;
            }
        }
    }

    /* selected node */

    .ProseMirror-selectednode {
        @apply shadow-elevation-md active:shadow-elevation transition-all border-transparent rounded-sm;
    }

    /* placeholder */

    h1, p {
        &.is-empty::before {
            content: attr(data-placeholder);
            @apply text-stone-300 float-left pointer-events-none h-0;
        }
    }
}
